---
tags:
  - 打包背包
---

[P14635 NOIP2025 糖果店 - 洛谷](https://www.luogu.com.cn/problem/P14635)

思路：注意到每种糖果只能买奇数个或者偶数个，那么买偶数个时就把 2k 和 2k+1 个打包成一个 $w=x_i+y_i$ 的糖果，v = 2，那么买奇数个时就把 2k+1 和 2k+2 个打包成一个 $w=x_i+y_i$ 的物品，v = 2，然后最前面的一个糖果单独是 $w=x_i$ 的 v = 1 的糖果
这样的话，就相当于是 $w=x_i$ 的 v = 1 的糖果只能买 1 个，而 $w=x_i+y_i$ v = 2 的糖果数量不限
设买了 x 个 v = 1 的糖果，显然按 w 从小到大买，剩下的全部用 v = 2 的 w 最小的糖果买

```cpp
int x[N],y[N];
signed main() {
    File(test);
    int n,m,mx=2e18; // em
    cin>>n>>m;
    For(i,1,n){
        cin>>x[i]>>y[i];mx=min(mx,x[i]+y[i]);
    }   
    sort(x+1,x+n+1); 
    int rst=m,ans=0;
    For(i,0,n){ // 0, em
        rst-=x[i];
        if (rst<0)break; // em
        ans=max(ans,i+rst/mx*2);
    }
    cout<<ans<<endl;
}
```

时代的眼泪